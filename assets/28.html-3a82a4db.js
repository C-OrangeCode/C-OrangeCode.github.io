import{_ as n}from"./plugin-vue_export-helper-c27b6911.js";import{o as s,c as a,e as p}from"./app-a1fbcbb6.js";const e={},t=p(`<h2 id="_001-准备sql" tabindex="-1"><a class="header-anchor" href="#_001-准备sql" aria-hidden="true">#</a> 001.准备<code>sql</code></h2><ul><li>1.创建部门表</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- 创建部门表</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> dept<span class="token punctuation">(</span>
	<span class="token comment">-- 部门编号</span>
	id <span class="token keyword">INT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>
	<span class="token comment">-- 部门名字</span>
	NAME <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>2.创建员工表</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- 创建员工表</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> emp<span class="token punctuation">(</span>
	<span class="token comment">-- id</span>
	id <span class="token keyword">INT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>
	<span class="token comment">-- 姓名</span>
	NAME <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token comment">-- 性别</span>
	gender <span class="token keyword">CHAR</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token comment">-- 工资</span>
	salary <span class="token keyword">DOUBLE</span><span class="token punctuation">,</span>
	<span class="token comment">-- 入职日期</span>
	join_date <span class="token keyword">DATE</span><span class="token punctuation">,</span>
	<span class="token comment">-- 部门编号</span>
	dept_id <span class="token keyword">INT</span><span class="token punctuation">,</span>
	<span class="token comment">-- 外键,关联部门表dept.id</span>
	<span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span>dept_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> dept<span class="token punctuation">(</span>id<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>3.插入部门数据</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- 插入部门数据</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> dept<span class="token punctuation">(</span>NAME<span class="token punctuation">)</span> <span class="token keyword">VALUES</span>
<span class="token punctuation">(</span><span class="token string">&quot;公关部&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token string">&quot;财务部&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token string">&quot;人事部&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>4.插入员工数据</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- 插入员工数据</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> emp<span class="token punctuation">(</span>NAME<span class="token punctuation">,</span>gender<span class="token punctuation">,</span>salary<span class="token punctuation">,</span>join_date<span class="token punctuation">,</span>dept_id<span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&#39;孙悟空&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;男&#39;</span><span class="token punctuation">,</span><span class="token number">7200</span><span class="token punctuation">,</span><span class="token string">&#39;2013-02-24&#39;</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> emp<span class="token punctuation">(</span>NAME<span class="token punctuation">,</span>gender<span class="token punctuation">,</span>salary<span class="token punctuation">,</span>join_date<span class="token punctuation">,</span>dept_id<span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&#39;猪八戒&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;男&#39;</span><span class="token punctuation">,</span><span class="token number">3600</span><span class="token punctuation">,</span><span class="token string">&#39;2010-12-02&#39;</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> emp<span class="token punctuation">(</span>NAME<span class="token punctuation">,</span>gender<span class="token punctuation">,</span>salary<span class="token punctuation">,</span>join_date<span class="token punctuation">,</span>dept_id<span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&#39;唐僧&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;男&#39;</span><span class="token punctuation">,</span><span class="token number">9000</span><span class="token punctuation">,</span><span class="token string">&#39;2008-08-08&#39;</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> emp<span class="token punctuation">(</span>NAME<span class="token punctuation">,</span>gender<span class="token punctuation">,</span>salary<span class="token punctuation">,</span>join_date<span class="token punctuation">,</span>dept_id<span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&#39;白骨精&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;女&#39;</span><span class="token punctuation">,</span><span class="token number">5000</span><span class="token punctuation">,</span><span class="token string">&#39;2015-10-07&#39;</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> emp<span class="token punctuation">(</span>NAME<span class="token punctuation">,</span>gender<span class="token punctuation">,</span>salary<span class="token punctuation">,</span>join_date<span class="token punctuation">,</span>dept_id<span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&#39;蜘蛛精&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;女&#39;</span><span class="token punctuation">,</span><span class="token number">4500</span><span class="token punctuation">,</span><span class="token string">&#39;2011-03-14&#39;</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>5.查询是否插入成功</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- 查询是否插入成功</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span><span class="token keyword">FROM</span> dept<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span><span class="token keyword">FROM</span> emp<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_002-隐式内连接查询" tabindex="-1"><a class="header-anchor" href="#_002-隐式内连接查询" aria-hidden="true">#</a> 002.隐式内连接查询</h2><blockquote><p>使用 where 条件消除无用数据</p></blockquote><ul><li>1.查询所有员工信息和对应的部门信息</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- 查询所有员工信息和对应的部门信息</span>
<span class="token keyword">SELECT</span>
t1<span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span>t2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>name<span class="token punctuation">\`</span></span>
<span class="token keyword">FROM</span>
emp t1<span class="token punctuation">,</span>dept t2
<span class="token keyword">WHERE</span>
t1<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>dept_id<span class="token punctuation">\`</span></span><span class="token operator">=</span>t2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>id<span class="token punctuation">\`</span></span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>2.查询员工的姓名，性别,部门</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- 查询员工的姓名，性别,部门</span>
<span class="token keyword">SELECT</span>
t1<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>name<span class="token punctuation">\`</span></span><span class="token punctuation">,</span>t1<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>gender<span class="token punctuation">\`</span></span>
<span class="token keyword">FROM</span>
emp t1<span class="token punctuation">,</span>dept t2
<span class="token keyword">WHERE</span>
t1<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>dept_id<span class="token punctuation">\`</span></span><span class="token operator">=</span>t2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>id<span class="token punctuation">\`</span></span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_003-显示内连接查询" tabindex="-1"><a class="header-anchor" href="#_003-显示内连接查询" aria-hidden="true">#</a> 003.显示内连接查询</h2><blockquote><p>语法： select 字段列表 from 表名 1 [inner] join 表名 2 on 条件</p></blockquote><ul><li>1.查询所有员工信息和对应的部门信息</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- 显式内连接查询</span>
<span class="token comment">-- 1.查询所有员工信息和对应的部门信息</span>
<span class="token keyword">SELECT</span>
<span class="token operator">*</span> <span class="token keyword">FROM</span> emp
<span class="token keyword">JOIN</span>
dept
<span class="token keyword">ON</span>
emp<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>dept_id<span class="token punctuation">\`</span></span><span class="token operator">=</span>dept<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>id<span class="token punctuation">\`</span></span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_004-左外连接查询" tabindex="-1"><a class="header-anchor" href="#_004-左外连接查询" aria-hidden="true">#</a> 004.左外连接查询</h2><blockquote><p>语法：select 字段列表 from 表 1 left [outer] join 表 2 on 条件；</p><p>查询的是左表所有数据以及其交集部分。</p></blockquote><ul><li>1.查询所有员工信息，如果员工有部门，则查询部门名称，没有部门，则不显示部门名称</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- 左外连接查询</span>
<span class="token comment">-- 查询所有员工信息，如果员工有部门，则查询部门名称，</span>
<span class="token comment">-- 没有部门，则不显示部门名称</span>
<span class="token keyword">SELECT</span>
<span class="token operator">*</span> <span class="token keyword">FROM</span> emp
<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span>
dept
<span class="token keyword">ON</span>
emp<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>dept_id<span class="token punctuation">\`</span></span><span class="token operator">=</span>dept<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>id<span class="token punctuation">\`</span></span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_005-右外连接" tabindex="-1"><a class="header-anchor" href="#_005-右外连接" aria-hidden="true">#</a> 005.右外连接</h2><blockquote><p>语法：select 字段列表 from 表 1 right [outer] join 表 2 on 条件；</p><p>查询的是右表所有数据以及其交集部分。</p></blockquote><h2 id="_006-子查询" tabindex="-1"><a class="header-anchor" href="#_006-子查询" aria-hidden="true">#</a> 006.子查询</h2><blockquote><p>概念：查询中嵌套查询，称嵌套查询为子查询。</p></blockquote><ul><li>1.查询工资最高的员工信息 <ul><li>1.查询最高的工资是多少</li><li>2.查询员工信息，并且工资等于最高工资</li></ul></li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- 子查询</span>
<span class="token comment">-- 查询工资最高的员工信息</span>
<span class="token keyword">SELECT</span>
<span class="token operator">*</span>
<span class="token keyword">FROM</span>
emp
<span class="token keyword">WHERE</span>
salary<span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span>	<span class="token function">MAX</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">FROM</span> emp<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_007-子查询分类" tabindex="-1"><a class="header-anchor" href="#_007-子查询分类" aria-hidden="true">#</a> 007.子查询分类</h2><ul><li>1.子查询的结果是单行单列的 <ul><li>子查询可以作为条件，使用运算符去判断。 运算符： &gt; &gt;= &lt; &lt;= =</li></ul></li><li>2.子查询的结果是多行单列的 <ul><li>子查询可以作为条件，使用运算符 in 来判断</li></ul></li><li>3.子查询的结果是多行多列的 <ul><li>子查询可以作为一张虚拟表参与查询</li></ul></li></ul><h2 id="_008-练习-1" tabindex="-1"><a class="header-anchor" href="#_008-练习-1" aria-hidden="true">#</a> 008.练习 1</h2><p>1.创建部门表</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- 创建部门表</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> practice01_dept<span class="token punctuation">(</span>
  <span class="token comment">-- id</span>
  id <span class="token keyword">INT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>
  <span class="token comment">-- 部门名称</span>
  NAME <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token comment">-- 部门所在地</span>
  address <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2.添加四个部门</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- 添加四个部门</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> practice01_dept<span class="token punctuation">(</span>id<span class="token punctuation">,</span>NAME<span class="token punctuation">,</span>address<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span>
<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token string">&#39;教研部&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;北京&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token string">&#39;学工部&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;上海&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token string">&#39;销售部&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;广州&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">,</span><span class="token string">&#39;财务部&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;深圳&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 查看是否添加成功</span>
<span class="token keyword">SELECT</span>
<span class="token operator">*</span>
<span class="token keyword">FROM</span>
practice01_dept<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3.创建职务表并添加 4 个职务</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- 创建职务表并添加四个职务</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> practice01_job<span class="token punctuation">(</span>
  id <span class="token keyword">INT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>
  NAME <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">-- 职务名称</span>
  description <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token comment">-- 职务描述</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 添加职务</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> practice01_job<span class="token punctuation">(</span>id<span class="token punctuation">,</span>NAME<span class="token punctuation">,</span>description<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span>
<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&#39;董事长&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;管理整个公司，接单&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&#39;经理&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;管理部门员工&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">&#39;销售员&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;向客人推销产品&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">&#39;文员&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;使用办公软件&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>4.创建员工表并添加员工</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- 员工表</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> practice01_emp<span class="token punctuation">(</span>
  id <span class="token keyword">INT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>
  NAME <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">-- 姓名</span>
  job_id <span class="token keyword">INT</span><span class="token punctuation">,</span><span class="token comment">-- 职务id</span>
  mgr <span class="token keyword">INT</span><span class="token punctuation">,</span><span class="token comment">-- 上级领导id</span>
  join_date <span class="token keyword">DATE</span><span class="token punctuation">,</span><span class="token comment">-- 入职日期</span>
  salary <span class="token keyword">DECIMAL</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment">-- 工资</span>
  bonus <span class="token keyword">DECIMAL</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">-- 奖金</span>
  dept_id <span class="token keyword">INT</span><span class="token punctuation">,</span><span class="token comment">-- 所在部门编号</span>
  <span class="token keyword">CONSTRAINT</span> emp_job_fk <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>job_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> practice01_job<span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token keyword">CONSTRAINT</span> emp_dept_fk <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>dept_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> practice01_dept<span class="token punctuation">(</span>id<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 添加员工</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> practice01_emp
<span class="token punctuation">(</span>id<span class="token punctuation">,</span>NAME<span class="token punctuation">,</span>job_id<span class="token punctuation">,</span>mgr<span class="token punctuation">,</span>join_date<span class="token punctuation">,</span>salary<span class="token punctuation">,</span>bonus<span class="token punctuation">,</span>dept_id<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span>
<span class="token punctuation">(</span><span class="token number">1001</span><span class="token punctuation">,</span><span class="token string">&#39;孙悟空&#39;</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1004</span><span class="token punctuation">,</span><span class="token string">&#39;2000-12-17&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;8000.00&#39;</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">1002</span><span class="token punctuation">,</span><span class="token string">&#39;卢俊义&#39;</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1006</span><span class="token punctuation">,</span><span class="token string">&#39;2001-02-20&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;16000.00&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;3000.00&#39;</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">1003</span><span class="token punctuation">,</span><span class="token string">&#39;林冲&#39;</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1006</span><span class="token punctuation">,</span><span class="token string">&#39;2001-02-22&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;12500.00&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;5000.00&#39;</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">1004</span><span class="token punctuation">,</span><span class="token string">&#39;唐僧&#39;</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1009</span><span class="token punctuation">,</span><span class="token string">&#39;2001-04-02&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;29750.00&#39;</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">1005</span><span class="token punctuation">,</span><span class="token string">&#39;李逵&#39;</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1006</span><span class="token punctuation">,</span><span class="token string">&#39;2001-09-28&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;12500.00&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;14000.00&#39;</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">1006</span><span class="token punctuation">,</span><span class="token string">&#39;宋江&#39;</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1009</span><span class="token punctuation">,</span><span class="token string">&#39;2001-05-01&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;28500.00&#39;</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">1007</span><span class="token punctuation">,</span><span class="token string">&#39;刘备&#39;</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1009</span><span class="token punctuation">,</span><span class="token string">&#39;2001-09-01&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;24500.00&#39;</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">1008</span><span class="token punctuation">,</span><span class="token string">&#39;猪八戒&#39;</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1004</span><span class="token punctuation">,</span><span class="token string">&#39;2007-04-19&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;30000.00&#39;</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">1009</span><span class="token punctuation">,</span><span class="token string">&#39;罗贯中&#39;</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token string">&#39;2001-11-17&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;50000.00&#39;</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">1010</span><span class="token punctuation">,</span><span class="token string">&#39;吴用&#39;</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1006</span><span class="token punctuation">,</span><span class="token string">&#39;2001-09-08&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;15000.00&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;0.00&#39;</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">1011</span><span class="token punctuation">,</span><span class="token string">&#39;沙僧&#39;</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1004</span><span class="token punctuation">,</span><span class="token string">&#39;2007-05-23&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;11000.00&#39;</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">1012</span><span class="token punctuation">,</span><span class="token string">&#39;李逵&#39;</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1006</span><span class="token punctuation">,</span><span class="token string">&#39;2001-12-03&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;9500.00&#39;</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">1013</span><span class="token punctuation">,</span><span class="token string">&#39;小白龙&#39;</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1004</span><span class="token punctuation">,</span><span class="token string">&#39;2001-12-03&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;30000.00&#39;</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">1014</span><span class="token punctuation">,</span><span class="token string">&#39;关羽&#39;</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1007</span><span class="token punctuation">,</span><span class="token string">&#39;2002-01-23&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;13000.00&#39;</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 查询是否添加成功</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> practice01_emp<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>5.创建工资等级表并添加五个工资等级</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- 工资等级表</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> practice01_salary_grade<span class="token punctuation">(</span>
 id <span class="token keyword">INT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>
 <span class="token comment">-- 最低工资</span>
 low <span class="token keyword">INT</span><span class="token punctuation">,</span>
 <span class="token comment">-- 最高工资</span>
 high <span class="token keyword">INT</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 添加五个工资等级</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> practice01_salary_grade
<span class="token punctuation">(</span>id<span class="token punctuation">,</span>low<span class="token punctuation">,</span>high<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span>
<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">7000</span><span class="token punctuation">,</span><span class="token number">12000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">12010</span><span class="token punctuation">,</span><span class="token number">14000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">14010</span><span class="token punctuation">,</span><span class="token number">20000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">20010</span><span class="token punctuation">,</span><span class="token number">30000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">30010</span><span class="token punctuation">,</span><span class="token number">99990</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 查看是否添加成功</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> practice01_salary_grade<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>1.查询所有员工信息。查询员工编号，员工姓名，工资，职务名称，职务描述</p></blockquote><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- 查询员工编号，员工姓名，工资，职务名称，职务描述</span>
<span class="token comment">/*
分析:
  1.员工编号,姓名,工资 在practice01_emp表
  2.职务名称和职务描述 在practice01_job表
  3.where条件 emp.job_id=job.id
*/</span>
<span class="token keyword">SELECT</span>
t1<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>id<span class="token punctuation">\`</span></span><span class="token punctuation">,</span>t1<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>name<span class="token punctuation">\`</span></span><span class="token punctuation">,</span>t1<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>salary<span class="token punctuation">\`</span></span><span class="token punctuation">,</span>
t2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>name<span class="token punctuation">\`</span></span><span class="token punctuation">,</span>t2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>description<span class="token punctuation">\`</span></span>
<span class="token keyword">FROM</span>
practice01_emp t1<span class="token punctuation">,</span>practice01_job t2
<span class="token keyword">WHERE</span>
t1<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>job_id<span class="token punctuation">\`</span></span><span class="token operator">=</span>t2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>id<span class="token punctuation">\`</span></span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>2.查询员工编号，员工姓名，工资，职务名称，职务描述，部门名称，部门位置</p></blockquote><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- 2.查询员工编号，员工姓名，工资，职务名称，</span>
<span class="token comment">-- 职务描述，部门名称，部门位置</span>
<span class="token comment">/*
分析:
  1.员工编号,姓名,工资 在emp
  2.职务名称,描述 在job
  3.部门名称,位置 在dept
  4.条件是 emp.job_id=job.id and emp.dept_id=dept.id
*/</span>
<span class="token keyword">SELECT</span>
t1<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>id<span class="token punctuation">\`</span></span><span class="token punctuation">,</span>t1<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>name<span class="token punctuation">\`</span></span><span class="token punctuation">,</span>t1<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>salary<span class="token punctuation">\`</span></span><span class="token punctuation">,</span>
t2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>name<span class="token punctuation">\`</span></span><span class="token punctuation">,</span>t2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>description<span class="token punctuation">\`</span></span><span class="token punctuation">,</span>
t3<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>name<span class="token punctuation">\`</span></span><span class="token punctuation">,</span>t3<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>address<span class="token punctuation">\`</span></span>
<span class="token keyword">FROM</span>
practice01_emp t1<span class="token punctuation">,</span>
practice01_job t2<span class="token punctuation">,</span>
practice01_dept t3
<span class="token keyword">WHERE</span>
t1<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>job_id<span class="token punctuation">\`</span></span><span class="token operator">=</span>t2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>id<span class="token punctuation">\`</span></span>
<span class="token operator">AND</span>
t1<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>dept_id<span class="token punctuation">\`</span></span><span class="token operator">=</span>t3<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>id<span class="token punctuation">\`</span></span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>3.查询员工姓名，工资，工资等级</p></blockquote><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- 3.查询员工姓名，工资，工资等级</span>
<span class="token comment">/*
分析:
  1.姓名 工资  emp
  2.工资等级 grade
  3.where条件  between
*/</span>
<span class="token keyword">SELECT</span>
t1<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>name<span class="token punctuation">\`</span></span> 员工姓名<span class="token punctuation">,</span>
t1<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>salary<span class="token punctuation">\`</span></span> 员工工资<span class="token punctuation">,</span>
t2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>id<span class="token punctuation">\`</span></span> 工资等级
<span class="token keyword">FROM</span>
practice01_emp t1<span class="token punctuation">,</span>
practice01_salary_grade t2
<span class="token keyword">WHERE</span>
t1<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>salary<span class="token punctuation">\`</span></span> <span class="token operator">BETWEEN</span> t2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>low<span class="token punctuation">\`</span></span> <span class="token operator">AND</span> t2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>high<span class="token punctuation">\`</span></span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>4.查询员工姓名，工资，职务名称，职务描述，部门名称，部门位置，工资等级</p></blockquote><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- 4.查询员工姓名，工资，职务名称，职务描述，</span>
<span class="token comment">-- 部门名称，部门位置，工资等级</span>
<span class="token comment">/*
分析:
  1.员工姓名,工资 emp
  2.职务名称,描述 job
  3.部门名称,位置 dept
  4.工资等级 grade
  5.条件 = and  between
*/</span>
<span class="token keyword">SELECT</span>
t1<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>name<span class="token punctuation">\`</span></span> 姓名<span class="token punctuation">,</span>
t1<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>salary<span class="token punctuation">\`</span></span> 工资<span class="token punctuation">,</span>
t2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>name<span class="token punctuation">\`</span></span> 职位<span class="token punctuation">,</span>
t2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>description<span class="token punctuation">\`</span></span> 工作内容<span class="token punctuation">,</span>
t3<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>name<span class="token punctuation">\`</span></span> 部门<span class="token punctuation">,</span>
t3<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>address<span class="token punctuation">\`</span></span> 工作地点<span class="token punctuation">,</span>
t4<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>id<span class="token punctuation">\`</span></span> 工资等级
<span class="token keyword">FROM</span>
practice01_emp t1<span class="token punctuation">,</span>
practice01_job t2<span class="token punctuation">,</span>
practice01_dept t3<span class="token punctuation">,</span>
practice01_salary_grade t4
<span class="token keyword">WHERE</span>
t1<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>job_id<span class="token punctuation">\`</span></span><span class="token operator">=</span>t2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>id<span class="token punctuation">\`</span></span>
<span class="token operator">AND</span>
t1<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>dept_id<span class="token punctuation">\`</span></span><span class="token operator">=</span>t3<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>id<span class="token punctuation">\`</span></span>
<span class="token operator">AND</span>
<span class="token punctuation">(</span>t1<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>salary<span class="token punctuation">\`</span></span> <span class="token operator">BETWEEN</span> t4<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>low<span class="token punctuation">\`</span></span> <span class="token operator">AND</span> t4<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>high<span class="token punctuation">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>5.查询出部门编号、部门名称、部门位置、部门人数</p></blockquote><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- 5.查询出部门编号、部门名称、部门位置、部门人数</span>
<span class="token comment">/*
分析:
  1.部门编号,名称,位置 dept
  2.部门人数 count(id)
  3.条件
      1.emp.dept_id=dept.id
      2.group by(dept_id)
*/</span>
<span class="token keyword">SELECT</span>
t2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>id<span class="token punctuation">\`</span></span> 部门编号<span class="token punctuation">,</span>
t2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>name<span class="token punctuation">\`</span></span> 部门名称<span class="token punctuation">,</span>
t2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>address<span class="token punctuation">\`</span></span> 部门位置<span class="token punctuation">,</span>
<span class="token function">COUNT</span><span class="token punctuation">(</span>t1<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>id<span class="token punctuation">\`</span></span><span class="token punctuation">)</span> 部门人数
<span class="token keyword">FROM</span>
practice01_emp t1<span class="token punctuation">,</span>
practice01_dept t2
<span class="token keyword">WHERE</span>
t1<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>dept_id<span class="token punctuation">\`</span></span><span class="token operator">=</span>t2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>id<span class="token punctuation">\`</span></span>
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span>
t1<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>dept_id<span class="token punctuation">\`</span></span><span class="token punctuation">;</span>
<span class="token comment">-- 检查</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> practice01_dept<span class="token punctuation">;</span>
<span class="token comment">-- 发现没有财务部的人</span>
<span class="token comment">-- 再次检查</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> practice01_emp<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> practice01_emp t1
<span class="token keyword">WHERE</span>
t1<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>dept_id<span class="token punctuation">\`</span></span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span> id <span class="token keyword">FROM</span> practice01_dept
<span class="token keyword">WHERE</span> NAME <span class="token operator">LIKE</span> <span class="token string">&quot;财务部&quot;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- 发现的确没有</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_009-事务" tabindex="-1"><a class="header-anchor" href="#_009-事务" aria-hidden="true">#</a> 009.事务</h2><blockquote><p>概念: 如果一个包含多个步骤的业务操作，被事务管理，那么这些操作要么同时成功，要么同时失败。</p></blockquote><p>操作</p><ul><li><ol><li>开启事务： start transaction;</li></ol></li><li><ol start="2"><li>回滚：rollback;</li></ol></li><li><ol start="3"><li>提交：commit;</li></ol></li></ul><h2 id="_010-事务案例" tabindex="-1"><a class="header-anchor" href="#_010-事务案例" aria-hidden="true">#</a> 010.事务案例</h2><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> account <span class="token punctuation">(</span>
    id <span class="token keyword">INT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>
    NAME <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    balance <span class="token keyword">DOUBLE</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- 添加数据</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> account <span class="token punctuation">(</span>NAME<span class="token punctuation">,</span> balance<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">&#39;zhangsan&#39;</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">&#39;lisi&#39;</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> account<span class="token punctuation">;</span>
<span class="token keyword">UPDATE</span> account <span class="token keyword">SET</span> balance <span class="token operator">=</span> <span class="token number">1000</span><span class="token punctuation">;</span>
<span class="token comment">-- 张三给李四转账 500 元</span>
<span class="token comment">-- 0. 开启事务</span>
<span class="token keyword">START</span> <span class="token keyword">TRANSACTION</span><span class="token punctuation">;</span>
<span class="token comment">-- 1. 张三账户 -500</span>
<span class="token keyword">UPDATE</span> account <span class="token keyword">SET</span> balance <span class="token operator">=</span> balance <span class="token operator">-</span> <span class="token number">500</span> <span class="token keyword">WHERE</span> NAME <span class="token operator">=</span> <span class="token string">&#39;zhangsan&#39;</span><span class="token punctuation">;</span>
<span class="token comment">-- 2. 李四账户 +500</span>
<span class="token comment">-- 出错了...</span>
<span class="token keyword">UPDATE</span> account <span class="token keyword">SET</span> balance <span class="token operator">=</span> balance <span class="token operator">+</span> <span class="token number">500</span> <span class="token keyword">WHERE</span> NAME <span class="token operator">=</span> <span class="token string">&#39;lisi&#39;</span><span class="token punctuation">;</span>
<span class="token comment">-- 发现执行没有问题，提交事务</span>
<span class="token keyword">COMMIT</span><span class="token punctuation">;</span>
<span class="token comment">-- 发现出问题了，回滚事务</span>
<span class="token keyword">ROLLBACK</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_011-事务提交方式" tabindex="-1"><a class="header-anchor" href="#_011-事务提交方式" aria-hidden="true">#</a> 011,事务提交方式</h2><p>自动提交</p><ul><li><code>mysql</code>就是自动提交的</li><li>一条<code>DML</code>(增删改)语句会自动提交一次事务。</li></ul><p>手动提交</p><ul><li><code>Oracle</code> 数据库默认是手动提交事务</li><li>需要先开启事务，再提交</li></ul><p>修改事务默认的提交方式</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code>查看事务的默认提交方式：
<span class="token keyword">SELECT</span> @<span class="token variable">@autocommit</span><span class="token punctuation">;</span> <span class="token comment">-- 1 代表自动提交  0 代表手动提交</span>
修改默认提交方式：
<span class="token keyword">set</span> @<span class="token variable">@autocommit</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_012-事务的四大特征" tabindex="-1"><a class="header-anchor" href="#_012-事务的四大特征" aria-hidden="true">#</a> 012.事务的四大特征</h2><ol><li>原子性：是不可分割的最小操作单位，要么同时成功，要么同时失败。</li><li>持久性：当事务提交或回滚后，数据库会持久化的保存数据。</li><li>隔离性：多个事务之间。相互独立。</li><li>一致性：事务操作前后，数据总量不变</li></ol><h2 id="_013-事务的隔离级别" tabindex="-1"><a class="header-anchor" href="#_013-事务的隔离级别" aria-hidden="true">#</a> 013.事务的隔离级别</h2><blockquote><p>概念：多个事务之间隔离的，相互独立的。但是如果多个事务操作同一批数据，则会引发一些问题，设置不同的隔离级别就可以解决这些问题。</p></blockquote><p>存在问题</p><ol><li>脏读：一个事务，读取到另一个事务中没有提交的数据</li><li>不可重复读(虚读)：在同一个事务中，两次读取到的数据不一样。</li><li>幻读：一个事务操作(<code>DML</code>)数据表中所有记录，另一个事务添加了一条数据，则第一个事务查询不到自己的修改。</li></ol><p>隔离级别</p><ol><li><code>read uncommitted</code>：读未提交 * 产生的问题：脏读、不可重复读、幻读</li><li><code>read committed</code>：读已提交 （<code>Oracle</code>）</li></ol><ul><li>产生的问题：不可重复读、幻读</li></ul><ol start="3"><li><code>repeatable read</code>：可重复读 （<code>MySQL</code>默认）</li></ol><ul><li>产生的问题：幻读</li></ul><ol start="4"><li><code>serializable</code>：串行化</li></ol><ul><li>可以解决所有的问题</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code> 注意：隔离级别从小到大安全性越来越高，但是效率越来越低
		* 数据库查询隔离级别：
			* select @@tx_isolation;
		* 数据库设置隔离级别：
			* set global transaction isolation level  级别字符串;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_014-dcl" tabindex="-1"><a class="header-anchor" href="#_014-dcl" aria-hidden="true">#</a> 014.<code>DCL</code></h2><p>SQL 分类： 1. <code>DDL</code>：操作数据库和表 2. <code>DML</code>：增删改表中数据 3. <code> DQL</code>：查询表中数据 4. <code>DCL</code>：管理用户，授权</p><blockquote><p><code>DBA</code>：数据库管理员</p></blockquote><p>管理用户</p><ul><li>1.添加用户 <ul><li><code>语法：CREATE USER &#39;用户名&#39;@&#39;主机名&#39; IDENTIFIED BY &#39;密码&#39;;</code></li></ul></li><li>2.删除用户 <ul><li><code>语法：DROP USER &#39;用户名&#39;@&#39;主机名&#39;;</code></li></ul></li><li>3.修改用户密码 <ul><li><code>UPDATE USER SET PASSWORD = PASSWORD(&#39;新密码&#39;) WHERE USER = &#39;用户名&#39;;</code></li><li><code>UPDATE USER SET PASSWORD = PASSWORD(&#39;abc&#39;) WHERE USER = &#39;lisi&#39;;</code></li><li><code>SET PASSWORD FOR &#39;用户名&#39;@&#39;主机名&#39; = PASSWORD(&#39;新密码&#39;);</code></li><li><code>SET PASSWORD FOR &#39;root&#39;@&#39;localhost&#39; = PASSWORD(&#39;123&#39;);</code></li></ul></li></ul><h2 id="_015-mysql忘记密码处理方法" tabindex="-1"><a class="header-anchor" href="#_015-mysql忘记密码处理方法" aria-hidden="true">#</a> 015.<code>Mysql</code>忘记密码处理方法</h2><ol><li><code>cmd </code>-- &gt;<code> net stop mysql</code> 停止<code>mysql</code>服务</li><li>使用无验证方式启动<code>mysql</code>服务： <code>mysqld --skip-grant-tables</code></li><li>打开新的<code>cmd</code>窗口,直接输入<code>mysql</code>命令，敲回车。就可以登录成功</li><li><code>use mysql</code>;</li><li><code>update user set password = password(&#39;你的新密码&#39;) where user = &#39;root&#39;;</code></li><li>关闭两个窗口</li><li>打开任务管理器，手动结束<code>mysqld.exe</code> 的进程</li><li>启动<code>mysql</code>服务</li><li>使用新密码登录。</li></ol><h2 id="_016-权限管理" tabindex="-1"><a class="header-anchor" href="#_016-权限管理" aria-hidden="true">#</a> 016.权限管理</h2><p>1.查询权限</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- 查询权限</span>
<span class="token keyword">SHOW</span> GRANTS <span class="token keyword">FOR</span> <span class="token string">&#39;用户名&#39;</span><span class="token variable">@&#39;主机名&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">SHOW</span> GRANTS <span class="token keyword">FOR</span> <span class="token string">&#39;lisi&#39;</span><span class="token variable">@&#39;%&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2.授予权限</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- 授予权限</span>
<span class="token keyword">grant</span> 权限列表 <span class="token keyword">on</span> 数据库名<span class="token punctuation">.</span>表名 <span class="token keyword">to</span> <span class="token string">&#39;用户名&#39;</span><span class="token variable">@&#39;主机名&#39;</span><span class="token punctuation">;</span>
<span class="token comment">-- 给张三用户授予所有权限，在任意数据库任意表上</span>
<span class="token keyword">GRANT</span> <span class="token keyword">ALL</span> <span class="token keyword">ON</span> <span class="token operator">*</span><span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">TO</span> <span class="token string">&#39;zhangsan&#39;</span><span class="token variable">@&#39;localhost&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3.撤销权限</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- 撤销权限：</span>
<span class="token keyword">revoke</span> 权限列表 <span class="token keyword">on</span> 数据库名<span class="token punctuation">.</span>表名 <span class="token keyword">from</span> <span class="token string">&#39;用户名&#39;</span><span class="token variable">@&#39;主机名&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">REVOKE</span> <span class="token keyword">UPDATE</span> <span class="token keyword">ON</span> db3<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>account<span class="token punctuation">\`</span></span> <span class="token keyword">FROM</span> <span class="token string">&#39;lisi&#39;</span><span class="token variable">@&#39;%&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,95),c=[t];function o(l,i){return s(),a("div",null,c)}const k=n(e,[["render",o],["__file","28.html.vue"]]);export{k as default};
